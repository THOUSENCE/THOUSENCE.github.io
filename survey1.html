<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第一部分 - AI信任研究问卷</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>基本信息调查（第一部分）</h1>
            <div class="progress-bar">
                <div class="progress" style="width: 33%"></div>
            </div>
        </header>

        <form id="surveyForm">
            <!-- 问题1：性别 -->
            <div class="question-box">
                <h3>1. 性别<span class="required">*</span></h3>
                <div class="options">
                    <label><input type="radio" name="gender" value="male" required> 男</label>
                    <label><input type="radio" name="gender" value="female"> 女</label>
                </div>
            </div>

            <!-- 问题2：年龄段 -->
            <div class="question-box">
                <h3>2. 年龄段<span class="required">*</span></h3>
                <div class="options vertical">
                    <label><input type="radio" name="age" value="under18" required> 18岁以下</label>
                    <label><input type="radio" name="age" value="18-30"> 18-30岁</label>
                    <label><input type="radio" name="age" value="30-45"> 30-45岁</label>
                    <label><input type="radio" name="age" value="over45"> 45岁以上</label>
                </div>
            </div>

            <!-- 问题3：最高学历 -->
            <div class="question-box">
                <h3>3. 最高学历<span class="required">*</span></h3>
                <div class="options vertical">
                    <label><input type="radio" name="education" value="junior" required> 初中及以下</label>
                    <label><input type="radio" name="education" value="highschool"> 普高/中专/技校/职高</label>
                    <label><input type="radio" name="education" value="college"> 专科</label>
                    <label><input type="radio" name="education" value="bachelor"> 本科</label>
                    <label><input type="radio" name="education" value="master"> 硕士</label>
                    <label><input type="radio" name="education" value="doctor"> 博士</label>
                </div>
            </div>

            <!-- 问题4：AI使用经历 -->
            <div class="question-box">
                <h3>4. 是否使用过人工智能技术/服务？<span class="required">*</span></h3>
                <div class="options">
                    <label><input type="radio" name="ai_usage" value="yes" required> 是</label>
                    <label><input type="radio" name="ai_usage" value="no"> 否</label>
                </div>
            </div>

            <!-- 问题5：AI相关职业 -->
            <div class="question-box">
                <h3>5. 职业是否与AI相关？<span class="required">*</span></h3>
                <div class="options">
                    <label><input type="radio" name="ai_career" value="yes" required> 是</label>
                    <label><input type="radio" name="ai_career" value="no"> 否</label>
                </div>
            </div>

            <!-- 问题6：使用频次 -->
            <div class="question-box">
                <h3>6. 人工智能技术/服务使用频次<span class="required">*</span></h3>
                <div class="options vertical">
                    <label><input type="radio" name="frequency" value="none" required> 无</label>
                    <label><input type="radio" name="frequency" value="monthly"> 每月1-2次</label>
                    <label><input type="radio" name="frequency" value="weekly1"> 每周1-2次</label>
                    <label><input type="radio" name="frequency" value="weekly3"> 每周3-4次</label>
                    <label><input type="radio" name="frequency" value="daily"> 每日1次及以上</label>
                </div>
            </div>

            <div class="nav-buttons">
                <button type="button" class="prev-button" onclick="history.back()">上一页</button>
                <button type="submit" class="continue-button">继续</button>
            </div>
        </form>
    </div>
    <script type="module">
        import { initSurvey, handleSubmit } from './js/survey.js';
        
        // 初始化问卷
        initSurvey({
          pageNumber: 1,
          totalPages: 2
        });
      
        // 绑定提交事件
        document.getElementById('surveyForm').addEventListener('submit', async (e) => {
          e.preventDefault();
          
          // 验证必填项
          if(!e.target.checkValidity()) {
            alert('请完成所有必填问题');
            return;
          }
      
          // 保存数据并跳转
          await handleSubmit();
          window.location.href = 'survey2.html';
        });
    </script>

</body>
</html>